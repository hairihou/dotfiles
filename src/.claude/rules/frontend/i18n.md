---
paths: "**/*.{html,ts,tsx,vue}"
---

# i18n

## Libraries

- **Angular**: `@angular/localize`
- **React**: `react-i18next`
- **Vue**: `vue-i18n`

## Key Definition

### Dynamic Keys (Prohibited)

Keys must be static string literals. Never use variables, template literals, or expressions.

```typescript
// NG
t(`error.${errorCode}`);
t(errorKey);
$localize`:@@${dynamicId}:text`;

// OK
t("error.notFound");
t("error.unauthorized");
$localize`:@@errorNotFound:Not found`;
```

### Standalone Key Declaration (Prohibited)

Never declare keys as separate variables. Always use keys inline with translation functions.

```typescript
// NG
const key = "common.submit";
t(key);

const keys = { submit: "common.submit" };
t(keys.submit);

// OK
t("common.submit");
```

## Key/Resource Changes

When modifying translation keys or resources, verify all usages across:

### Components/Templates

- `i18n` attribute, `i18nPlural` pipe (Angular)
- `<Trans>`, `<Translation>` (React)
- `<i18n-t>`, `<i18n>` (Vue)

### Functions

- `$localize` tagged template (Angular)
- `t()`, `useTranslation()` hook (React)
- `t()`, `$t()` (Vue; includes legacy global usage)

### Search Checklist

1. Search the key string in all source files
2. Check JSON resource files for all locales
3. Verify no orphaned keys remain after changes

## Vue: Prefer useI18n

Use `useI18n()` instead of global `$t()` for explicit dependencies and better testability.

```vue
<!-- NG: Options API / global -->
<template>
  {{ $t("message.hello") }}
</template>

<!-- OK: Composition API -->
<script setup>
const { t } = useI18n();
</script>
<template>
  {{ t("message.hello") }}
</template>
```
