prefix_rule(
    pattern = ["git", ["add", "branch", "checkout", "commit", "diff", "fetch", "log", "remote", "show", "stash", "status", "switch"]],
    decision = "allow",
    match = [
        "git add .",
        "git branch -a",
        "git checkout main",
        "git commit -m 'fix: bug'",
        "git diff HEAD",
        "git fetch origin",
        "git log --oneline",
        "git stash",
        "git status",
        "git switch main",
    ],
)

prefix_rule(
    pattern = ["git", "push", ["--force", "-f"]],
    decision = "forbidden",
    justification = "Use --force-with-lease instead",
    match = [
        "git push --force origin main",
        "git push -f origin main",
    ],
)

prefix_rule(
    pattern = ["git", ["merge", "pull", "push", "rebase", "reset"]],
    decision = "prompt",
    match = [
        "git merge feature/x",
        "git pull origin main",
        "git push origin main",
        "git rebase main",
        "git reset --hard HEAD",
    ],
)

prefix_rule(
    pattern = ["gh"],
    decision = "prompt",
    match = [
        "gh pr view 7888",
        "gh repo create",
    ],
)
